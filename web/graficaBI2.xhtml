<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions" >


   
<script type="text/javascript">
    function uno() {
        
            alert('Texto a mostrar');
        
    }
</script>    
    
    
    <body>

    <ui:composition template="./WEB-INF/templates/plantilla.xhtml">
        
      <ui:define name="content">
          <div onclick="uno();"  >
    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-1.12.4.js"></script>  
    <script type="text/javascript" language="javascript" src="https://rawgit.com/Microsoft/PowerBI-JavaScript/master/dist/powerbi.min.js"></script>
                  
<script type="text/javascript">
     $(document).ready(function () {  
        var getEmbedToken = "https://mch-powerbireportembedded01.azurewebsites.net/api/HttpTriggerCSharp2?code=YYh1x8fQbbLNGfvvc6G/5Y1HvVta4uV3MSWNaOGyX4v7JAHe0FRvoQ==";


        $.ajax({  
            url: getEmbedToken,  
            jsonpCallback: 'callback',  
            contentType: 'application/javascript',  
            dataType: "jsonp",  
            success: function (json) {  
  
                var models = window['powerbi-client'].models;  
  
                var embedConfiguration = {  
                    type: 'report',  
                    id: json.ReportId,  
                    embedUrl: json.EmbedUrl,  
                    tokenType: models.TokenType.Embed,  
                    accessToken: json.EmbedToken  
                };  
  
                var $reportContainer = $('#reportContainer');  
                var report = powerbi.embed($reportContainer.get(0), embedConfiguration);  
  
  
            },  
            error: function () {  
                alert("Error");  
            }  
        });  
  
    });  

</script>
           
       </div>
      <div id="reportContainer" style="width: 95%; height: 750px;"></div>   
      </ui:define>
           
    </ui:composition>   
    </body>
 
    
</html>
